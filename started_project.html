<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <style>
        ::-webkit-scrollbar {
            height: 5px;
            width: 5px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>

    <style>
    </style>

</head>

<body class="" style="background-color: #d6f1ff;" onload="createTable();">

    <!--w-100 aint really working, but ehh-->
    <div class="d-inline-block flex-row overflow-x-auto w-100 vh-75 mt-2">
        <!--Project Container-->
        <div class="d-flex" style="background-color: #d6f1ff;" id="tables-container">
        </div>
    </div>

    <button class="btn btn-primary" onclick="createTable()">
        Add table<i class="bi bi-plus-circle ms-2"></i>
    </button>

    <script>
        var tables_container = document.getElementById('tables-container');
        function createTable() {
            let table = document.createElement('div');
            table.classList.add('card', 'mx-2', 'd-flex', 'flex-column', 'col-2');
            table.style.height = '80hv'; //doesn't work

            //Table Title
            let h5_table = document.createElement('h5');
            h5_table.classList.add('card-header');

            let title_table = document.createElement('input');
            title_table.classList.add('rounded-3', 'fs-3', 'w-100', 'px-2', 'py-1', 'text-truncate');
            title_table.type = 'text';
            title_table.value = 'Table Title';

            title_table.addEventListener('click', () => {
                title_table.select();
            });
            //????- ne sym si poqsnila mnogo, veche ne pomnq haha, ama raboti as much as i care<3
            title_table.addEventListener("keyup", function () {
                title_table.title = title_table.value;
            });

            h5_table.appendChild(title_table);
            table.appendChild(h5_table);

            //Table Content
            let body_table = document.createElement('div');
            body_table.classList.add('card-body', 'overflow-y-scroll');
            //body_table.style.height = '60 dp';
            let task = createTask();
            body_table.appendChild(task);

            //Add task button
            let table_footer = document.createElement('div');
            table_footer.classList.add('card-footer');

            let add_task = document.createElement('p');
            add_task.classList.add('btn', 'btn-primary', 'mx-3');
            add_task.innerHTML = 'Add task' + '<i class="bi bi-plus-circle ms-2"></i>';

            add_task.addEventListener("click", function () {
                let task = createTask();
                body_table.appendChild(task);
            });

            table.appendChild(body_table);

            table_footer.appendChild(add_task);
            table.appendChild(table_footer);
            tables_container.appendChild(table);
        }

        function createTask() {
            let task = document.createElement('div');
            task.classList.add('rounded-4', 'border', 'border-dark-subtule', 'd-flex', 'mt-1', 'mb-2', 'mx-2');
            task.id = 'task';
            task.addEventListener("mouseover", function () {
                task.classList.add('border-secondary', 'shadow');
                task.classList.remove('border-dark-subtle');
            });

            task.addEventListener("mouseleave", function () {
                task.classList.remove('border-secondary', 'shadow');
                task.classList.add('border-dark-subtle');
            });

            let task_text = document.createElement('p');
            task_text.classList.add('fs-5', 'lh-sm', 'text-break', 'p-2');
            task_text.innerText = "Task";

            task.appendChild(task_text);
            return task;

        }
    </script>

</body>

</html>