<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="icon" href="./images/logo/tab_ico.png"> <!--За да се постави икона в tab в браузъра-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!--Bootstrap 5.3.2 - CSS-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <!--Bootstrap icons-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!--Bootstrap 5.3.2 - JS-->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script> <!--jQuery-->
    <!--<script src="./creating_project.js"></script> Скрипт за създаване на нов проект-->
    <link rel="stylesheet" href="scrollbars.css"><!--Стилово офромление на scrollbars-->
</head>

<body>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#deleteProjectModal" onclick="makeCode();">
        Launch demo modal
    </button>

    <!-- Модал за изтриване на проект -->
    <div class="modal fade" id="deleteProjectModal" tabindex="-1" aria-labelledby="deleteProjectModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-fullscreen-md-down">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="deleteProjectModalLabel">Изтрий проект</h1>
                </div>
                <form action="./onlyPHP/removeMember.php" method="post">
                    <div class="modal-body">
                        <p class="w-100 justicfy-content-center px-3">Въведете нужните данни, за да потвърдите
                            изтриването на проекта:</p>
                        <!--E-mail-->
                        <div class="form-floating w-100 mb-3 position-relative">
                            <input type="email" class="form-control" id="email" name="e-mail" placeholder="text"
                                required>
                            <label for="email">Email address</label>
                        </div>
                        <!--Парола-->
                        <div class="form-floating w-100 mb-3 position-relative">
                            <input type="password" class="form-control" id="password" placeholder="password"
                                name="password" required>
                            <label for="password">Парола</label>
                        </div>
                        <!--Код-->
                        <div class="form-floating w-100 mb-3 position-relative">
                            <input type="code-RO" class="form-control" id="code-RO" placeholder="code-RO" name="code-RO"
                                readonly>
                            <label for="code-RO">Код за въвеждане</label>
                        </div>
                        <div class="form-floating w-100 mb-3 position-relative">
                            <input type="code" class="form-control" id="code" placeholder="code" name="code" required>
                            <label for="code">Въведете кода</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмени</button>
                        <button type="button" class="btn btn-primary" id="delete-project" disabled>Изтрий</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        var code = '';
        var inputCode = document.getElementById('code');

        function makeCode() {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            const charactersLength = characters.length;
            let counter = 0;
            while (counter < 5) {
                code += characters.charAt(Math.floor(Math.random() * charactersLength));
                counter += 1;
            }
            document.getElementById('code-RO').value = code;
        }


        ['focusout', 'keyup'].forEach(event => inputCode.addEventListener(event, function (){
            if(inputCode.value === code){
                document.getElementById('delete-project').disabled = false;
            }
            else{
                document.getElementById('delete-project').disabled = true;
            }
        }));
    </script>
</body>

</html>